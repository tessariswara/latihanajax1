<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Latihan AJAX</title>
    <link rel="stylesheet" href="ajax1.css" />
  </head>
  <body>
    <div class="container" id="container">
      <h1>Get Pikachu</h1>
      <button class="button" type="toggle" id="button" onclick="ambilData()">
        Get!
      </button>
      <div class="isi" id="isi">
        <div id="biodata"></div>
        <div class="gambar" id="gambar"></div>
        <div id="typ"></div>
      </div>
    </div>

    <script>
      async function ambilData() {
        const response = await fetch(
          "https://pokeapi.co/api/v2/pokemon/pikachu",
          {
            method: "GET",
          }
        );
        let isi = document.getElementById("isi");
        const jeson = await response.json();
        const tipe = jeson.types;
        let name = "";
        let image = "";
        let type = "";
        name = name + `<p>${jeson.id}: ${jeson.name}</p>`;
        document.getElementById("biodata").innerHTML = name;
        image = image + `<img src=${jeson.sprites.front_default}>`;
        document.getElementById("gambar").innerHTML = image;
        type = type + `<p>Type: ${jeson.types[0].type.name}</p>`;
        document.getElementById("typ").innerHTML = type;
        if (isi.style.display == "block") {
          isi.style.display = "none";
        } else {
          isi.style.display = "block";
        }
      }
    </script>
  </body>
</html>
